<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:f="http://java.sun.com/jsf/core"  
      xmlns:p="http://primefaces.org/ui">

    <h:body>  
        <ui:composition template="./../template.xhtml">
            <ui:define name="content">
                 <p:growl id="msgs" showDetail="true" /> 
                  <h:form id="formDataTablePost">
                      <p:dataTable id="posts" var="post" value="#{postBean.posts}"
                     paginator="true" rows="5" paginatorPosition="bottom" 
                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"                   
                     >
                      <f:facet name="header">
                          Listado de Foros
                      </f:facet>
                          <p:column >
                             
                              <p:panel id="basic" header="#{post.titulo}" footer="#{post.dia} de #{post.mes} del #{post.anio} - Autor : #{post.usuario.usuario} " style="margin-bottom:20px; margin-top: 20px" >                                  
                                  <h:outputText 
                                      value=" #{post.contenido} " />
                                  <br/>
                                  <div align="right"> 
                                      <p:commandButton value="Seguir Leyendo" actionListener="#{postBean.seguirPost(event)}"
                                             oncomplete="handlePostRequest(xhr, status, args)" />
                                  </div>
                              </p:panel>
                             
                              <p:separator style="width:100%;height:2px" />
                          </p:column>
                  </p:dataTable>
              </h:form>
            </ui:define>
        </ui:composition>        
    </h:body>  
</html>
